var global,factory;global=window,factory=function(exports){function ownKeys$h(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$h(Object(source),!0).forEach((function(key){_defineProperty$h(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$h(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _typeof$i(obj){return _typeof$i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$i(obj)}function _defineProperty$h(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!=typeof input||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!=typeof res)return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"==typeof key?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _objectWithoutProperties$5(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray$2(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||_unsupportedIterableToArray$9(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray$7(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$9(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray$9(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$9(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$9(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$9(o,minLen):void 0}}function _arrayLikeToArray$9(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function createRef(initialValue){return{current:initialValue}}function debounce(fn,time){var timerId=void 0;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];timerId&&clearTimeout(timerId),timerId=setTimeout((function(){return fn.apply(void 0,args)}),time)}}function _slicedToArray$1(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$8(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$8(o,minLen):void 0}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$8(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _typeof$h(obj){return _typeof$h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$h(obj)}function decycle(obj){var seen=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(!obj||"object"!==_typeof$h(obj))return obj;if(seen.has(obj))return"[Circular]";var newSeen=seen.add(obj);return Array.isArray(obj)?obj.map((function(x){return decycle(x,newSeen)})):Object.fromEntries(Object.entries(obj).map((function(_ref){var _ref2=_slicedToArray$1(_ref,2);return[_ref2[0],decycle(_ref2[1],newSeen)]})))}function flatten(values){return values.reduce((function(a,b){return a.concat(b)}),[])}var autocompleteId=0;function generateAutocompleteId(){return"autocomplete-".concat(autocompleteId++)}function getAttributeValueByPath(record,path){return path.reduce((function(current,key){return current&&current[key]}),record)}function getItemsCount(state){return 0===state.collections.length?0:state.collections.reduce((function(sum,collection){return sum+collection.items.length}),0)}function invariant(condition,message){if(!condition)throw new Error("[Autocomplete] ".concat("function"==typeof message?message():message))}function isPrimitive(obj){return obj!==Object(obj)}function isEqual(first,second){if(first===second)return!0;if(isPrimitive(first)||isPrimitive(second)||"function"==typeof first||"function"==typeof second)return first===second;if(Object.keys(first).length!==Object.keys(second).length)return!1;for(var _i=0,_Object$keys=Object.keys(first);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];if(!(key in second))return!1;if(!isEqual(first[key],second[key]))return!1}return!0}var noop=function(){},userAgents$1=[{segment:"autocomplete-core",version:"1.15.0"}],warnCache={current:{}};function warn(condition,message){if(!condition){var sanitizedMessage=message.trim();warnCache.current[sanitizedMessage]||(warnCache.current[sanitizedMessage]=!0,console.warn("[Autocomplete] ".concat(sanitizedMessage)))}}function createClickedEvent(_ref){var item=_ref.item,_ref$items=_ref.items,items=void 0===_ref$items?[]:_ref$items;return{index:item.__autocomplete_indexName,items:[item],positions:[1+items.findIndex((function(x){return x.objectID===item.objectID}))],queryID:item.__autocomplete_queryID,algoliaSource:["autocomplete"]}}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$7(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$7(o,minLen):void 0}}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$7(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _excluded$8=["items"],_excluded2$1=["items"];function _typeof$g(obj){return _typeof$g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$g(obj)}function _toConsumableArray$6(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$6(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$6(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$6(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$6(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties$4(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ownKeys$g(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$g(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$g(Object(source),!0).forEach((function(key){_defineProperty$g(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$g(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$g(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$g(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$g(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$g(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function chunk(item){for(var chunkSize=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,chunks=[],i=0;i<item.objectIDs.length;i+=chunkSize)chunks.push(_objectSpread$g(_objectSpread$g({},item),{},{objectIDs:item.objectIDs.slice(i,i+chunkSize)}));return chunks}function mapToInsightsParamsApi(params){return params.map((function(_ref){var items=_ref.items,param=_objectWithoutProperties$4(_ref,_excluded$8);return _objectSpread$g(_objectSpread$g({},param),{},{objectIDs:(null==items?void 0:items.map((function(_ref2){return _ref2.objectID})))||param.objectIDs})}))}function createSearchInsightsApi(searchInsights){var _split$map2,major,minor,canSendHeaders=(_split$map2=_slicedToArray((searchInsights.version||"").split(".").map(Number),2),major=_split$map2[0],minor=_split$map2[1],major>=3||2===major&&minor>=4||1===major&&minor>=10);function sendToInsights(method,payloads,items){if(canSendHeaders&&void 0!==items){var _items$0$__autocomple=items[0].__autocomplete_algoliaCredentials,headers={"X-Algolia-Application-Id":_items$0$__autocomple.appId,"X-Algolia-API-Key":_items$0$__autocomple.apiKey};searchInsights.apply(void 0,[method].concat(_toConsumableArray$6(payloads),[{headers:headers}]))}else searchInsights.apply(void 0,[method].concat(_toConsumableArray$6(payloads)))}return{init:function(appId,apiKey){searchInsights("init",{appId:appId,apiKey:apiKey})},setAuthenticatedUserToken:function(authenticatedUserToken){searchInsights("setAuthenticatedUserToken",authenticatedUserToken)},setUserToken:function(userToken){searchInsights("setUserToken",userToken)},clickedObjectIDsAfterSearch:function(){for(var _len=arguments.length,params=new Array(_len),_key=0;_key<_len;_key++)params[_key]=arguments[_key];params.length>0&&sendToInsights("clickedObjectIDsAfterSearch",mapToInsightsParamsApi(params),params[0].items)},clickedObjectIDs:function(){for(var _len2=arguments.length,params=new Array(_len2),_key2=0;_key2<_len2;_key2++)params[_key2]=arguments[_key2];params.length>0&&sendToInsights("clickedObjectIDs",mapToInsightsParamsApi(params),params[0].items)},clickedFilters:function(){for(var _len3=arguments.length,params=new Array(_len3),_key3=0;_key3<_len3;_key3++)params[_key3]=arguments[_key3];params.length>0&&searchInsights.apply(void 0,["clickedFilters"].concat(params))},convertedObjectIDsAfterSearch:function(){for(var _len4=arguments.length,params=new Array(_len4),_key4=0;_key4<_len4;_key4++)params[_key4]=arguments[_key4];params.length>0&&sendToInsights("convertedObjectIDsAfterSearch",mapToInsightsParamsApi(params),params[0].items)},convertedObjectIDs:function(){for(var _len5=arguments.length,params=new Array(_len5),_key5=0;_key5<_len5;_key5++)params[_key5]=arguments[_key5];params.length>0&&sendToInsights("convertedObjectIDs",mapToInsightsParamsApi(params),params[0].items)},convertedFilters:function(){for(var _len6=arguments.length,params=new Array(_len6),_key6=0;_key6<_len6;_key6++)params[_key6]=arguments[_key6];params.length>0&&searchInsights.apply(void 0,["convertedFilters"].concat(params))},viewedObjectIDs:function(){for(var _len7=arguments.length,params=new Array(_len7),_key7=0;_key7<_len7;_key7++)params[_key7]=arguments[_key7];params.length>0&&params.reduce((function(acc,_ref3){var items=_ref3.items,param=_objectWithoutProperties$4(_ref3,_excluded2$1);return[].concat(_toConsumableArray$6(acc),_toConsumableArray$6(chunk(_objectSpread$g(_objectSpread$g({},param),{},{objectIDs:(null==items?void 0:items.map((function(_ref4){return _ref4.objectID})))||param.objectIDs})).map((function(payload){return{items:items,payload:payload}}))))}),[]).forEach((function(_ref5){var items=_ref5.items;return sendToInsights("viewedObjectIDs",[_ref5.payload],items)}))},viewedFilters:function(){for(var _len8=arguments.length,params=new Array(_len8),_key8=0;_key8<_len8;_key8++)params[_key8]=arguments[_key8];params.length>0&&searchInsights.apply(void 0,["viewedFilters"].concat(params))}}}function createViewedEvents(_ref){var itemsByIndexName=_ref.items.reduce((function(acc,current){var _acc$current$__autoco;return acc[current.__autocomplete_indexName]=(null!==(_acc$current$__autoco=acc[current.__autocomplete_indexName])&&void 0!==_acc$current$__autoco?_acc$current$__autoco:[]).concat(current),acc}),{});return Object.keys(itemsByIndexName).map((function(indexName){return{index:indexName,items:itemsByIndexName[indexName],algoliaSource:["autocomplete"]}}))}function isAlgoliaInsightsHit(hit){return hit.objectID&&hit.__autocomplete_indexName&&hit.__autocomplete_queryID}function _typeof$f(obj){return _typeof$f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$f(obj)}function _toConsumableArray$5(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$5(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$5(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$5(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$5(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys$f(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$f(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$f(Object(source),!0).forEach((function(key){_defineProperty$f(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$f(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$f(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$f(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$f(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$f(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ALGOLIA_INSIGHTS_SRC="https://cdn.jsdelivr.net/npm/search-insights@".concat("2.13.0","/dist/search-insights.min.js"),sendViewedObjectIDs=debounce((function(_ref){var onItemsChange=_ref.onItemsChange,items=_ref.items,insights=_ref.insights,state=_ref.state;onItemsChange({insights:insights,insightsEvents:createViewedEvents({items:items}).map((function(event){return _objectSpread$f({eventName:"Items Viewed"},event)})),state:state})}),400);function createAlgoliaInsightsPlugin(options){var callback,_getOptions=function(options){return _objectSpread$f({onItemsChange:function(_ref8){var insights=_ref8.insights,insightsEvents=_ref8.insightsEvents,state=_ref8.state;insights.viewedObjectIDs.apply(insights,_toConsumableArray$5(insightsEvents.map((function(event){return _objectSpread$f(_objectSpread$f({},event),{},{algoliaSource:getAlgoliaSources(event.algoliaSource,state.context)})}))))},onSelect:function(_ref9){var insights=_ref9.insights,insightsEvents=_ref9.insightsEvents,state=_ref9.state;insights.clickedObjectIDsAfterSearch.apply(insights,_toConsumableArray$5(insightsEvents.map((function(event){return _objectSpread$f(_objectSpread$f({},event),{},{algoliaSource:getAlgoliaSources(event.algoliaSource,state.context)})}))))},onActive:noop,__autocomplete_clickAnalytics:!0},options)}(options),providedInsightsClient=_getOptions.insightsClient,insightsInitParams=_getOptions.insightsInitParams,onItemsChange=_getOptions.onItemsChange,onSelectEvent=_getOptions.onSelect,onActiveEvent=_getOptions.onActive,__autocomplete_clickAnalytics=_getOptions.__autocomplete_clickAnalytics,insightsClient=providedInsightsClient;if(providedInsightsClient||(callback=function(_ref2){var window=_ref2.window,pointer=window.AlgoliaAnalyticsObject||"aa";"string"==typeof pointer&&(insightsClient=window[pointer]),insightsClient||(window.AlgoliaAnalyticsObject=pointer,window[pointer]||(window[pointer]=function(){window[pointer].queue||(window[pointer].queue=[]);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];window[pointer].queue.push(args)}),window[pointer].version="2.13.0",insightsClient=window[pointer],function(environment){var errorMessage="[Autocomplete]: Could not load search-insights.js. Please load it manually following https://alg.li/insights-autocomplete";try{var script=environment.document.createElement("script");script.async=!0,script.src=ALGOLIA_INSIGHTS_SRC,script.onerror=function(){console.error(errorMessage)},document.body.appendChild(script)}catch(cause){console.error(errorMessage)}}(window))},"undefined"!=typeof window&&callback({window:window})),!insightsClient)return{};insightsInitParams&&insightsClient("init",_objectSpread$f({partial:!0},insightsInitParams));var insights=createSearchInsightsApi(insightsClient),previousItems=createRef([]),debouncedOnStateChange=debounce((function(_ref3){var state=_ref3.state;if(state.isOpen){var items=state.collections.reduce((function(acc,current){return[].concat(_toConsumableArray$5(acc),_toConsumableArray$5(current.items))}),[]).filter(isAlgoliaInsightsHit);isEqual(previousItems.current.map((function(x){return x.objectID})),items.map((function(x){return x.objectID})))||(previousItems.current=items,items.length>0&&sendViewedObjectIDs({onItemsChange:onItemsChange,items:items,insights:insights,state:state}))}}),0);return{name:"aa.algoliaInsightsPlugin",subscribe:function(_ref4){var setContext=_ref4.setContext,onSelect=_ref4.onSelect,onActive=_ref4.onActive;function setInsightsContext(userToken){setContext({algoliaInsightsPlugin:{__algoliaSearchParameters:_objectSpread$f(_objectSpread$f({},__autocomplete_clickAnalytics?{clickAnalytics:!0}:{}),userToken?{userToken:normalizeUserToken(userToken)}:{}),insights:insights}})}insightsClient("addAlgoliaAgent","insights-plugin"),setInsightsContext(),insightsClient("onUserTokenChange",setInsightsContext),insightsClient("getUserToken",null,(function(_error,userToken){setInsightsContext(userToken)})),insightsClient("onAuthenticatedUserTokenChange",(function(authenticatedUserToken){authenticatedUserToken?setInsightsContext(authenticatedUserToken):insightsClient("getUserToken",null,(function(_error,userToken){return setInsightsContext(userToken)}))})),insightsClient("getAuthenticatedUserToken",null,(function(_error,authenticatedUserToken){authenticatedUserToken&&setInsightsContext(authenticatedUserToken)})),onSelect((function(_ref5){var item=_ref5.item,state=_ref5.state,event=_ref5.event,source=_ref5.source;isAlgoliaInsightsHit(item)&&onSelectEvent({state:state,event:event,insights:insights,item:item,insightsEvents:[_objectSpread$f({eventName:"Item Selected"},createClickedEvent({item:item,items:source.getItems().filter(isAlgoliaInsightsHit)}))]})})),onActive((function(_ref6){var item=_ref6.item,source=_ref6.source,state=_ref6.state,event=_ref6.event;isAlgoliaInsightsHit(item)&&onActiveEvent({state:state,event:event,insights:insights,item:item,insightsEvents:[_objectSpread$f({eventName:"Item Active"},createClickedEvent({item:item,items:source.getItems().filter(isAlgoliaInsightsHit)}))]})}))},onStateChange:function(_ref7){var state=_ref7.state;debouncedOnStateChange({state:state})},__autocomplete_pluginOptions:options}}function getAlgoliaSources(){var _context$algoliaInsig,algoliaSourceBase=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],context=arguments.length>1?arguments[1]:void 0;return[].concat(_toConsumableArray$5(algoliaSourceBase),["autocomplete-internal"],_toConsumableArray$5(null!==(_context$algoliaInsig=context.algoliaInsightsPlugin)&&void 0!==_context$algoliaInsig&&_context$algoliaInsig.__automaticInsights?["autocomplete-automatic"]:[]))}function normalizeUserToken(userToken){return"number"==typeof userToken?userToken.toString():userToken}function createInternalCancelablePromise(promise,initialState){var state=initialState;return{then:function(onfulfilled,onrejected){return createInternalCancelablePromise(promise.then(createCallback(onfulfilled,state,promise),createCallback(onrejected,state,promise)),state)},catch:function(onrejected){return createInternalCancelablePromise(promise.catch(createCallback(onrejected,state,promise)),state)},finally:function(onfinally){return onfinally&&state.onCancelList.push(onfinally),createInternalCancelablePromise(promise.finally(createCallback(onfinally&&function(){return state.onCancelList=[],onfinally()},state,promise)),state)},cancel:function(){state.isCanceled=!0;var callbacks=state.onCancelList;state.onCancelList=[],callbacks.forEach((function(callback){callback()}))},isCanceled:function(){return!0===state.isCanceled}}}function cancelable(promise){return createInternalCancelablePromise(promise,{isCanceled:!1,onCancelList:[]})}function createCallback(onResult,state,fallback){return onResult?function(arg){return state.isCanceled?arg:onResult(arg)}:fallback}function getNextActiveItemId(moveAmount,baseIndex,itemCount,defaultActiveItemId){if(!itemCount)return null;if(moveAmount<0&&(null===baseIndex||null!==defaultActiveItemId&&0===baseIndex))return itemCount+moveAmount;var numericIndex=(null===baseIndex?-1:baseIndex)+moveAmount;return numericIndex<=-1||numericIndex>=itemCount?null===defaultActiveItemId?null:0:numericIndex}function ownKeys$e(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$e(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$e(Object(source),!0).forEach((function(key){_defineProperty$e(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$e(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$e(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$e(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$e(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$e(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _typeof$e(obj){return _typeof$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$e(obj)}function getActiveItem(state){var collection=function(state){var collectionIndex=state.collections.map((function(collections){return collections.items.length})).reduce((function(acc,collectionsCount,index){var nextValue=(acc[index-1]||0)+collectionsCount;return acc.push(nextValue),acc}),[]).reduce((function(acc,current){return current<=state.activeItemId?acc+1:acc}),0);return state.collections[collectionIndex]}(state);if(!collection)return null;var item=collection.items[function(_ref){for(var state=_ref.state,collection=_ref.collection,isOffsetFound=!1,counter=0,previousItemsOffset=0;!1===isOffsetFound;){var currentCollection=state.collections[counter];if(currentCollection===collection){isOffsetFound=!0;break}previousItemsOffset+=currentCollection.items.length,counter++}return state.activeItemId-previousItemsOffset}({state:state,collection:collection})],source=collection.source;return{item:item,itemInputValue:source.getItemInputValue({item:item,state:state}),itemUrl:source.getItemUrl({item:item,state:state}),source:source}}function getAutocompleteElementId(autocompleteInstanceId,elementId,source){return[autocompleteInstanceId,null==source?void 0:source.sourceId,elementId].filter(Boolean).join("-").replace(/\s/g,"")}var regex=/((gt|sm)-|galaxy nexus)|samsung[- ]|samsungbrowser/i;function _typeof$d(obj){return _typeof$d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$d(obj)}function ownKeys$d(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty$d(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$d(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$d(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$d(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createStore(reducer,props,onStoreStateChange){var list,state=props.initialState;return{getState:function(){return state},dispatch:function(action,payload){var prevState=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$d(Object(source),!0).forEach((function(key){_defineProperty$d(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$d(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},state);state=reducer(state,{type:action,props:props,payload:payload}),onStoreStateChange({state:state,prevState:prevState})},pendingRequests:(list=[],{add:function(cancelablePromise){return list.push(cancelablePromise),cancelablePromise.finally((function(){list=list.filter((function(item){return item!==cancelablePromise}))}))},cancelAll:function(){list.forEach((function(promise){return promise.cancel()}))},isEmpty:function(){return 0===list.length}})}}function _typeof$c(obj){return _typeof$c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$c(obj)}function ownKeys$c(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$c(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$c(Object(source),!0).forEach((function(key){_defineProperty$c(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$c(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$c(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$c(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$c(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$c(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _typeof$b(obj){return _typeof$b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$b(obj)}function _toConsumableArray$4(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$4(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$4(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$4(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$4(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function ownKeys$b(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$b(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$b(Object(source),!0).forEach((function(key){_defineProperty$b(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$b(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$b(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$b(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$b(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$b(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getDefaultProps(props,pluginSubscribers){var _props$id,environment="undefined"!=typeof window?window:{},plugins=props.plugins||[];return _objectSpread$b(_objectSpread$b({debug:!1,openOnFocus:!1,enterKeyHint:void 0,placeholder:"",autoFocus:!1,defaultActiveItemId:null,stallThreshold:300,insights:void 0,environment:environment,shouldPanelOpen:function(_ref){return getItemsCount(_ref.state)>0},reshape:function(_ref2){return _ref2.sources}},props),{},{id:null!==(_props$id=props.id)&&void 0!==_props$id?_props$id:generateAutocompleteId(),plugins:plugins,initialState:_objectSpread$b({activeItemId:null,query:"",completion:null,collections:[],isOpen:!1,status:"idle",context:{}},props.initialState),onStateChange:function(params){var _props$onStateChange;null===(_props$onStateChange=props.onStateChange)||void 0===_props$onStateChange||_props$onStateChange.call(props,params),plugins.forEach((function(x){var _x$onStateChange;return null===(_x$onStateChange=x.onStateChange)||void 0===_x$onStateChange?void 0:_x$onStateChange.call(x,params)}))},onSubmit:function(params){var _props$onSubmit;null===(_props$onSubmit=props.onSubmit)||void 0===_props$onSubmit||_props$onSubmit.call(props,params),plugins.forEach((function(x){var _x$onSubmit;return null===(_x$onSubmit=x.onSubmit)||void 0===_x$onSubmit?void 0:_x$onSubmit.call(x,params)}))},onReset:function(params){var _props$onReset;null===(_props$onReset=props.onReset)||void 0===_props$onReset||_props$onReset.call(props,params),plugins.forEach((function(x){var _x$onReset;return null===(_x$onReset=x.onReset)||void 0===_x$onReset?void 0:_x$onReset.call(x,params)}))},getSources:function(params){return Promise.all([].concat(_toConsumableArray$4(plugins.map((function(plugin){return plugin.getSources}))),[props.getSources]).filter(Boolean).map((function(getSources){return function(getSources,params){var seenSourceIds=[];return Promise.resolve(getSources(params)).then((function(sources){return invariant(Array.isArray(sources),(function(){return"The `getSources` function must return an array of sources but returned type ".concat(JSON.stringify(_typeof$e(sources)),":\n\n").concat(JSON.stringify(decycle(sources),null,2))})),Promise.all(sources.filter((function(maybeSource){return Boolean(maybeSource)})).map((function(source){if(invariant("string"==typeof source.sourceId,"A source must provide a `sourceId` string."),seenSourceIds.includes(source.sourceId))throw new Error("[Autocomplete] The `sourceId` ".concat(JSON.stringify(source.sourceId)," is not unique."));seenSourceIds.push(source.sourceId);var defaultSource={getItemInputValue:function(_ref){return _ref.state.query},getItemUrl:function(){},onSelect:function(_ref2){(0,_ref2.setIsOpen)(!1)},onActive:noop,onResolve:noop};Object.keys(defaultSource).forEach((function(key){defaultSource[key].__default=!0}));var normalizedSource=_objectSpread$e(_objectSpread$e({},defaultSource),source);return Promise.resolve(normalizedSource)})))}))}(getSources,params)}))).then((function(nested){return flatten(nested)})).then((function(sources){return sources.map((function(source){return _objectSpread$b(_objectSpread$b({},source),{},{onSelect:function(params){source.onSelect(params),pluginSubscribers.forEach((function(x){var _x$onSelect;return null===(_x$onSelect=x.onSelect)||void 0===_x$onSelect?void 0:_x$onSelect.call(x,params)}))},onActive:function(params){source.onActive(params),pluginSubscribers.forEach((function(x){var _x$onActive;return null===(_x$onActive=x.onActive)||void 0===_x$onActive?void 0:_x$onActive.call(x,params)}))},onResolve:function(params){source.onResolve(params),pluginSubscribers.forEach((function(x){var _x$onResolve;return null===(_x$onResolve=x.onResolve)||void 0===_x$onResolve?void 0:_x$onResolve.call(x,params)}))}})}))}))},navigator:_objectSpread$b({navigate:function(_ref3){var itemUrl=_ref3.itemUrl;environment.location.assign(itemUrl)},navigateNewTab:function(_ref4){var itemUrl=_ref4.itemUrl,windowReference=environment.open(itemUrl,"_blank","noopener");null==windowReference||windowReference.focus()},navigateNewWindow:function(_ref5){var itemUrl=_ref5.itemUrl;environment.open(itemUrl,"_blank","noopener")}},props.navigator)})}function _typeof$a(obj){return _typeof$a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$a(obj)}function ownKeys$a(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$a(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$a(Object(source),!0).forEach((function(key){_defineProperty$a(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$a(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$a(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$a(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$a(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$a(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _typeof$9(obj){return _typeof$9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$9(obj)}function ownKeys$9(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$9(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$9(Object(source),!0).forEach((function(key){_defineProperty$9(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$9(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$9(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$9(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$9(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$9(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray$3(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$3(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$3(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$3(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$3(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function isDescription(item){return Boolean(item.execute)}function preResolve(itemsOrDescription,sourceId,state){if(description=itemsOrDescription,Boolean(null==description?void 0:description.execute)){var contextParameters="algolia"===itemsOrDescription.requesterId?Object.assign.apply(Object,[{}].concat(_toConsumableArray$3(Object.keys(state.context).map((function(key){var _state$context$key;return null===(_state$context$key=state.context[key])||void 0===_state$context$key?void 0:_state$context$key.__algoliaSearchParameters}))))):{};return _objectSpread$9(_objectSpread$9({},itemsOrDescription),{},{requests:itemsOrDescription.queries.map((function(query){return{query:"algolia"===itemsOrDescription.requesterId?_objectSpread$9(_objectSpread$9({},query),{},{params:_objectSpread$9(_objectSpread$9({},contextParameters),query.params)}):query,sourceId:sourceId,transformResponse:itemsOrDescription.transformResponse}}))})}var description;return{items:itemsOrDescription,sourceId:sourceId}}function resolve(items){var values=items.reduce((function(acc,current){if(!isDescription(current))return acc.push(current),acc;var searchClient=current.searchClient,execute=current.execute,requesterId=current.requesterId,requests=current.requests,container=acc.find((function(item){return isDescription(current)&&isDescription(item)&&item.searchClient===searchClient&&Boolean(requesterId)&&item.requesterId===requesterId}));if(container){var _container$items;(_container$items=container.items).push.apply(_container$items,_toConsumableArray$3(requests))}else{var request={execute:execute,requesterId:requesterId,items:requests,searchClient:searchClient};acc.push(request)}return acc}),[]).map((function(maybeDescription){if(!isDescription(maybeDescription))return Promise.resolve(maybeDescription);var _ref=maybeDescription,execute=_ref.execute,items=_ref.items;return execute({searchClient:_ref.searchClient,requests:items})}));return Promise.all(values).then((function(responses){return flatten(responses)}))}function postResolve(responses,sources,store){return sources.map((function(source){var rawResults,matches=responses.filter((function(response){return response.sourceId===source.sourceId})),results=matches.map((function(_ref2){return _ref2.items})),transform=matches[0].transformResponse,items=transform?transform({results:rawResults=results,hits:rawResults.map((function(result){return result.hits})).filter(Boolean),facetHits:rawResults.map((function(result){var _facetHits;return null===(_facetHits=result.facetHits)||void 0===_facetHits?void 0:_facetHits.map((function(facetHit){return{label:facetHit.value,count:facetHit.count,_highlightResult:{label:{value:facetHit.highlighted}}}}))})).filter(Boolean)}):results;return source.onResolve({source:source,results:results,items:items,state:store.getState()}),invariant(Array.isArray(items),(function(){return'The `getItems` function from source "'.concat(source.sourceId,'" must return an array of items but returned type ').concat(JSON.stringify(_typeof$9(items)),":\n\n").concat(JSON.stringify(decycle(items),null,2),".\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems")})),invariant(items.every(Boolean),'The `getItems` function from source "'.concat(source.sourceId,'" must return an array of items but returned ').concat(JSON.stringify(void 0),".\n\nDid you forget to return items?\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/core-concepts/sources/#param-getitems")),{source:source,items:items}}))}function _typeof$8(obj){return _typeof$8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$8(obj)}var _excluded$7=["event","nextState","props","query","refresh","store"];function ownKeys$8(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$8(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$8(Object(source),!0).forEach((function(key){_defineProperty$8(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$8(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$8(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$8(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$8(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$8(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$3(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var basePromiseId,latestResolvedId,latestResolvedValue,lastStalledId=null,runConcurrentSafePromise=(basePromiseId=-1,latestResolvedId=-1,latestResolvedValue=void 0,function(promise){var currentPromiseId=++basePromiseId;return Promise.resolve(promise).then((function(x){return latestResolvedValue&&currentPromiseId<latestResolvedId?latestResolvedValue:(latestResolvedId=currentPromiseId,latestResolvedValue=x,x)}))});function onInput(_ref){var event=_ref.event,_ref$nextState=_ref.nextState,nextState=void 0===_ref$nextState?{}:_ref$nextState,props=_ref.props,query=_ref.query,refresh=_ref.refresh,store=_ref.store,setters=_objectWithoutProperties$3(_ref,_excluded$7);lastStalledId&&props.environment.clearTimeout(lastStalledId);var setCollections=setters.setCollections,setIsOpen=setters.setIsOpen,setQuery=setters.setQuery,setActiveItemId=setters.setActiveItemId,setStatus=setters.setStatus,setContext=setters.setContext;if(setQuery(query),setActiveItemId(props.defaultActiveItemId),!query&&!1===props.openOnFocus){var _nextState$isOpen,collections=store.getState().collections.map((function(collection){return _objectSpread$8(_objectSpread$8({},collection),{},{items:[]})}));setStatus("idle"),setCollections(collections),setIsOpen(null!==(_nextState$isOpen=nextState.isOpen)&&void 0!==_nextState$isOpen?_nextState$isOpen:props.shouldPanelOpen({state:store.getState()}));var _request=cancelable(runConcurrentSafePromise(collections).then((function(){return Promise.resolve()})));return store.pendingRequests.add(_request)}setStatus("loading"),lastStalledId=props.environment.setTimeout((function(){setStatus("stalled")}),props.stallThreshold);var request=cancelable(runConcurrentSafePromise(props.getSources(_objectSpread$8({query:query,refresh:refresh,state:store.getState()},setters)).then((function(sources){return Promise.all(sources.map((function(source){return Promise.resolve(source.getItems(_objectSpread$8({query:query,refresh:refresh,state:store.getState()},setters))).then((function(itemsOrDescription){return preResolve(itemsOrDescription,source.sourceId,store.getState())}))}))).then(resolve).then((function(responses){var _store$getState$conte,__automaticInsights=responses.some((function(_ref2){return function(items){return!Array.isArray(items)&&Boolean(null==items?void 0:items._automaticInsights)}(_ref2.items)}));return __automaticInsights&&setContext({algoliaInsightsPlugin:_objectSpread$8(_objectSpread$8({},(null===(_store$getState$conte=store.getState().context)||void 0===_store$getState$conte?void 0:_store$getState$conte.algoliaInsightsPlugin)||{}),{},{__automaticInsights:__automaticInsights})}),postResolve(responses,sources,store)})).then((function(collections){return function(_ref){var collections=_ref.collections,props=_ref.props,state=_ref.state,originalSourcesBySourceId=collections.reduce((function(acc,collection){return _objectSpread$a(_objectSpread$a({},acc),{},_defineProperty$a({},collection.source.sourceId,_objectSpread$a(_objectSpread$a({},collection.source),{},{getItems:function(){return flatten(collection.items)}})))}),{}),sourcesBySourceId=props.plugins.reduce((function(acc,plugin){return plugin.reshape?plugin.reshape(acc):acc}),{sourcesBySourceId:originalSourcesBySourceId,state:state}).sourcesBySourceId;return flatten(props.reshape({sourcesBySourceId:sourcesBySourceId,sources:Object.values(sourcesBySourceId),state:state})).filter(Boolean).map((function(source){return{source:source,items:source.getItems()}}))}({collections:collections,props:props,state:store.getState()})}))})))).then((function(collections){var _nextState$isOpen2;setStatus("idle"),setCollections(collections);var isPanelOpen=props.shouldPanelOpen({state:store.getState()});setIsOpen(null!==(_nextState$isOpen2=nextState.isOpen)&&void 0!==_nextState$isOpen2?_nextState$isOpen2:props.openOnFocus&&!query&&isPanelOpen||isPanelOpen);var highlightedItem=getActiveItem(store.getState());if(null!==store.getState().activeItemId&&highlightedItem){var item=highlightedItem.item,itemInputValue=highlightedItem.itemInputValue,itemUrl=highlightedItem.itemUrl,source=highlightedItem.source;source.onActive(_objectSpread$8({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters))}})).finally((function(){setStatus("idle"),lastStalledId&&props.environment.clearTimeout(lastStalledId)}));return store.pendingRequests.add(request)}function _typeof$7(obj){return _typeof$7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$7(obj)}var _excluded$6=["event","props","refresh","store"];function ownKeys$7(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$7(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$7(Object(source),!0).forEach((function(key){_defineProperty$7(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$7(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$7(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$7(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$7(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$7(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$2(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _typeof$6(obj){return _typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$6(obj)}var _excluded$5=["props","refresh","store"],_excluded2=["inputElement","formElement","panelElement"],_excluded3=["inputElement"],_excluded4=["inputElement","maxLength"],_excluded5=["source"],_excluded6=["item","source"];function ownKeys$6(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$6(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$6(Object(source),!0).forEach((function(key){_defineProperty$6(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$6(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$6(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$6(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$6(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$6(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$1(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function getPropGetters(_ref){var props=_ref.props,refresh=_ref.refresh,store=_ref.store,setters=_objectWithoutProperties$1(_ref,_excluded$5);return{getEnvironmentProps:function(providedProps){var inputElement=providedProps.inputElement,formElement=providedProps.formElement,panelElement=providedProps.panelElement;function onMouseDownOrTouchStart(event){!store.getState().isOpen&&store.pendingRequests.isEmpty()||event.target===inputElement||!1===[formElement,panelElement].some((function(contextNode){return parent=contextNode,child=event.target,parent===child||parent.contains(child);var parent,child}))&&(store.dispatch("blur",null),props.debug||store.pendingRequests.cancelAll())}return _objectSpread$6({onTouchStart:onMouseDownOrTouchStart,onMouseDown:onMouseDownOrTouchStart,onTouchMove:function(event){!1!==store.getState().isOpen&&inputElement===props.environment.document.activeElement&&event.target!==inputElement&&inputElement.blur()}},_objectWithoutProperties$1(providedProps,_excluded2))},getRootProps:function(rest){return _objectSpread$6({role:"combobox","aria-expanded":store.getState().isOpen,"aria-haspopup":"listbox","aria-owns":store.getState().isOpen?store.getState().collections.map((function(_ref2){var source=_ref2.source;return getAutocompleteElementId(props.id,"list",source)})).join(" "):void 0,"aria-labelledby":getAutocompleteElementId(props.id,"label")},rest)},getFormProps:function(providedProps){return providedProps.inputElement,_objectSpread$6({action:"",noValidate:!0,role:"search",onSubmit:function(event){var _providedProps$inputE;event.preventDefault(),props.onSubmit(_objectSpread$6({event:event,refresh:refresh,state:store.getState()},setters)),store.dispatch("submit",null),null===(_providedProps$inputE=providedProps.inputElement)||void 0===_providedProps$inputE||_providedProps$inputE.blur()},onReset:function(event){var _providedProps$inputE2;event.preventDefault(),props.onReset(_objectSpread$6({event:event,refresh:refresh,state:store.getState()},setters)),store.dispatch("reset",null),null===(_providedProps$inputE2=providedProps.inputElement)||void 0===_providedProps$inputE2||_providedProps$inputE2.focus()}},_objectWithoutProperties$1(providedProps,_excluded3))},getLabelProps:function(rest){return _objectSpread$6({htmlFor:getAutocompleteElementId(props.id,"input"),id:getAutocompleteElementId(props.id,"label")},rest)},getInputProps:function(providedProps){var _props$environment$na;function onFocus(event){(props.openOnFocus||Boolean(store.getState().query))&&onInput(_objectSpread$6({event:event,props:props,query:store.getState().completion||store.getState().query,refresh:refresh,store:store},setters)),store.dispatch("focus",null)}var _ref3=providedProps||{};_ref3.inputElement;var _ref3$maxLength=_ref3.maxLength,maxLength=void 0===_ref3$maxLength?512:_ref3$maxLength,rest=_objectWithoutProperties$1(_ref3,_excluded4),activeItem=getActiveItem(store.getState()),shouldFallbackKeyHint=function(userAgent){return Boolean(userAgent&&userAgent.match(regex))}((null===(_props$environment$na=props.environment.navigator)||void 0===_props$environment$na?void 0:_props$environment$na.userAgent)||""),enterKeyHint=props.enterKeyHint||(null!=activeItem&&activeItem.itemUrl&&!shouldFallbackKeyHint?"go":"search");return _objectSpread$6({"aria-autocomplete":"both","aria-activedescendant":store.getState().isOpen&&null!==store.getState().activeItemId?getAutocompleteElementId(props.id,"item-".concat(store.getState().activeItemId),null==activeItem?void 0:activeItem.source):void 0,"aria-controls":store.getState().isOpen?store.getState().collections.map((function(_ref4){var source=_ref4.source;return getAutocompleteElementId(props.id,"list",source)})).join(" "):void 0,"aria-labelledby":getAutocompleteElementId(props.id,"label"),value:store.getState().completion||store.getState().query,id:getAutocompleteElementId(props.id,"input"),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",enterKeyHint:enterKeyHint,spellCheck:"false",autoFocus:props.autoFocus,placeholder:props.placeholder,maxLength:maxLength,type:"search",onChange:function(event){onInput(_objectSpread$6({event:event,props:props,query:event.currentTarget.value.slice(0,maxLength),refresh:refresh,store:store},setters))},onKeyDown:function(event){!function(_ref){var event=_ref.event,props=_ref.props,refresh=_ref.refresh,store=_ref.store,setters=_objectWithoutProperties$2(_ref,_excluded$6);if("ArrowUp"===event.key||"ArrowDown"===event.key){var triggerScrollIntoView=function(){var highlightedItem=getActiveItem(store.getState()),nodeItem=props.environment.document.getElementById(getAutocompleteElementId(props.id,"item-".concat(store.getState().activeItemId),null==highlightedItem?void 0:highlightedItem.source));nodeItem&&(nodeItem.scrollIntoViewIfNeeded?nodeItem.scrollIntoViewIfNeeded(!1):nodeItem.scrollIntoView(!1))},triggerOnActive=function(){var highlightedItem=getActiveItem(store.getState());if(null!==store.getState().activeItemId&&highlightedItem){var item=highlightedItem.item,itemInputValue=highlightedItem.itemInputValue,itemUrl=highlightedItem.itemUrl,source=highlightedItem.source;source.onActive(_objectSpread$7({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters))}};event.preventDefault(),!1===store.getState().isOpen&&(props.openOnFocus||Boolean(store.getState().query))?onInput(_objectSpread$7({event:event,props:props,query:store.getState().query,refresh:refresh,store:store},setters)).then((function(){store.dispatch(event.key,{nextActiveItemId:props.defaultActiveItemId}),triggerOnActive(),setTimeout(triggerScrollIntoView,0)})):(store.dispatch(event.key,{}),triggerOnActive(),triggerScrollIntoView())}else if("Escape"===event.key)event.preventDefault(),store.dispatch(event.key,null),store.pendingRequests.cancelAll();else if("Tab"===event.key)store.dispatch("blur",null),store.pendingRequests.cancelAll();else if("Enter"===event.key){if(null===store.getState().activeItemId||store.getState().collections.every((function(collection){return 0===collection.items.length})))return void(props.debug||store.pendingRequests.cancelAll());event.preventDefault();var _ref2=getActiveItem(store.getState()),item=_ref2.item,itemInputValue=_ref2.itemInputValue,itemUrl=_ref2.itemUrl,source=_ref2.source;if(event.metaKey||event.ctrlKey)void 0!==itemUrl&&(source.onSelect(_objectSpread$7({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters)),props.navigator.navigateNewTab({itemUrl:itemUrl,item:item,state:store.getState()}));else if(event.shiftKey)void 0!==itemUrl&&(source.onSelect(_objectSpread$7({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters)),props.navigator.navigateNewWindow({itemUrl:itemUrl,item:item,state:store.getState()}));else if(event.altKey);else{if(void 0!==itemUrl)return source.onSelect(_objectSpread$7({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters)),void props.navigator.navigate({itemUrl:itemUrl,item:item,state:store.getState()});onInput(_objectSpread$7({event:event,nextState:{isOpen:!1},props:props,query:itemInputValue,refresh:refresh,store:store},setters)).then((function(){source.onSelect(_objectSpread$7({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters))}))}}}(_objectSpread$6({event:event,props:props,refresh:refresh,store:store},setters))},onFocus:onFocus,onBlur:noop,onClick:function(event){providedProps.inputElement!==props.environment.document.activeElement||store.getState().isOpen||onFocus(event)}},rest)},getPanelProps:function(rest){return _objectSpread$6({onMouseDown:function(event){event.preventDefault()},onMouseLeave:function(){store.dispatch("mouseleave",null)}},rest)},getListProps:function(providedProps){var _ref5=providedProps||{},source=_ref5.source,rest=_objectWithoutProperties$1(_ref5,_excluded5);return _objectSpread$6({role:"listbox","aria-labelledby":getAutocompleteElementId(props.id,"label"),id:getAutocompleteElementId(props.id,"list",source)},rest)},getItemProps:function(providedProps){var item=providedProps.item,source=providedProps.source,rest=_objectWithoutProperties$1(providedProps,_excluded6);return _objectSpread$6({id:getAutocompleteElementId(props.id,"item-".concat(item.__autocomplete_id),source),role:"option","aria-selected":store.getState().activeItemId===item.__autocomplete_id,onMouseMove:function(event){if(item.__autocomplete_id!==store.getState().activeItemId){store.dispatch("mousemove",item.__autocomplete_id);var activeItem=getActiveItem(store.getState());if(null!==store.getState().activeItemId&&activeItem){var _item=activeItem.item,itemInputValue=activeItem.itemInputValue,itemUrl=activeItem.itemUrl,_source=activeItem.source;_source.onActive(_objectSpread$6({event:event,item:_item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:_source,state:store.getState()},setters))}}},onMouseDown:function(event){event.preventDefault()},onClick:function(event){var itemInputValue=source.getItemInputValue({item:item,state:store.getState()}),itemUrl=source.getItemUrl({item:item,state:store.getState()});(itemUrl?Promise.resolve():onInput(_objectSpread$6({event:event,nextState:{isOpen:!1},props:props,query:itemInputValue,refresh:refresh,store:store},setters))).then((function(){source.onSelect(_objectSpread$6({event:event,item:item,itemInputValue:itemInputValue,itemUrl:itemUrl,refresh:refresh,source:source,state:store.getState()},setters))}))}},rest)}}}function _typeof$5(obj){return _typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$5(obj)}function ownKeys$5(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$5(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$5(Object(source),!0).forEach((function(key){_defineProperty$5(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$5(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$5(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$5(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$5(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$5(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getMetadata(_ref){var _,_options$__autocomple,_options$__autocomple2,_options$__autocomple3,plugins=_ref.plugins,options=_ref.options,optionsKey=null===(_=((null===(_options$__autocomple=options.__autocomplete_metadata)||void 0===_options$__autocomple?void 0:_options$__autocomple.userAgents)||[])[0])||void 0===_?void 0:_.segment,extraOptions=optionsKey?_defineProperty$5({},optionsKey,Object.keys((null===(_options$__autocomple2=options.__autocomplete_metadata)||void 0===_options$__autocomple2?void 0:_options$__autocomple2.options)||{})):{};return{plugins:plugins.map((function(plugin){return{name:plugin.name,options:Object.keys(plugin.__autocomplete_pluginOptions||[])}})),options:_objectSpread$5({"autocomplete-core":Object.keys(options)},extraOptions),ua:userAgents$1.concat((null===(_options$__autocomple3=options.__autocomplete_metadata)||void 0===_options$__autocomple3?void 0:_options$__autocomple3.userAgents)||[])}}function getCompletion(_ref){var _getActiveItem,state=_ref.state;return!1===state.isOpen||null===state.activeItemId?null:(null===(_getActiveItem=getActiveItem(state))||void 0===_getActiveItem?void 0:_getActiveItem.itemInputValue)||null}function _typeof$4(obj){return _typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$4(obj)}function ownKeys$4(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$4(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$4(Object(source),!0).forEach((function(key){_defineProperty$4(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$4(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$4(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$4(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$4(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$4(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var stateReducer=function(state,action){switch(action.type){case"setActiveItemId":case"mousemove":return _objectSpread$4(_objectSpread$4({},state),{},{activeItemId:action.payload});case"setQuery":return _objectSpread$4(_objectSpread$4({},state),{},{query:action.payload,completion:null});case"setCollections":return _objectSpread$4(_objectSpread$4({},state),{},{collections:action.payload});case"setIsOpen":return _objectSpread$4(_objectSpread$4({},state),{},{isOpen:action.payload});case"setStatus":return _objectSpread$4(_objectSpread$4({},state),{},{status:action.payload});case"setContext":return _objectSpread$4(_objectSpread$4({},state),{},{context:_objectSpread$4(_objectSpread$4({},state.context),action.payload)});case"ArrowDown":var nextState=_objectSpread$4(_objectSpread$4({},state),{},{activeItemId:action.payload.hasOwnProperty("nextActiveItemId")?action.payload.nextActiveItemId:getNextActiveItemId(1,state.activeItemId,getItemsCount(state),action.props.defaultActiveItemId)});return _objectSpread$4(_objectSpread$4({},nextState),{},{completion:getCompletion({state:nextState})});case"ArrowUp":var _nextState=_objectSpread$4(_objectSpread$4({},state),{},{activeItemId:getNextActiveItemId(-1,state.activeItemId,getItemsCount(state),action.props.defaultActiveItemId)});return _objectSpread$4(_objectSpread$4({},_nextState),{},{completion:getCompletion({state:_nextState})});case"Escape":return state.isOpen?_objectSpread$4(_objectSpread$4({},state),{},{activeItemId:null,isOpen:!1,completion:null}):_objectSpread$4(_objectSpread$4({},state),{},{activeItemId:null,query:"",status:"idle",collections:[]});case"submit":return _objectSpread$4(_objectSpread$4({},state),{},{activeItemId:null,isOpen:!1,status:"idle"});case"reset":return _objectSpread$4(_objectSpread$4({},state),{},{activeItemId:!0===action.props.openOnFocus?action.props.defaultActiveItemId:null,status:"idle",completion:null,query:""});case"focus":return _objectSpread$4(_objectSpread$4({},state),{},{activeItemId:action.props.defaultActiveItemId,isOpen:(action.props.openOnFocus||Boolean(state.query))&&action.props.shouldPanelOpen({state:state})});case"blur":return action.props.debug?state:_objectSpread$4(_objectSpread$4({},state),{},{isOpen:!1,activeItemId:null});case"mouseleave":return _objectSpread$4(_objectSpread$4({},state),{},{activeItemId:action.props.defaultActiveItemId});default:return invariant(!1,"The reducer action ".concat(JSON.stringify(action.type)," is not supported.")),state}};function _typeof$3(obj){return _typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$3(obj)}function ownKeys$3(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$3(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$3(Object(source),!0).forEach((function(key){_defineProperty$3(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$3(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$3(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$3(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$3(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$3(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function createAutocomplete(options){!function(options){warn(!options.debug,"The `debug` option is meant for development debugging and should not be used in production.")}(options);var subscribers=[],props=getDefaultProps(options,subscribers),store=createStore(stateReducer,props,(function(_ref){var _state$context,_state$context$algoli,prevState=_ref.prevState,state=_ref.state;if(props.onStateChange(_objectSpread$3({prevState:prevState,state:state,refresh:refresh,navigator:props.navigator},setters)),!isAlgoliaInsightsPluginEnabled()&&null!==(_state$context=state.context)&&void 0!==_state$context&&null!==(_state$context$algoli=_state$context.algoliaInsightsPlugin)&&void 0!==_state$context$algoli&&_state$context$algoli.__automaticInsights&&!1!==props.insights){var plugin=createAlgoliaInsightsPlugin({__autocomplete_clickAnalytics:!1});props.plugins.push(plugin),subscribePlugins([plugin])}})),setters=function(_ref){var store=_ref.store;return{setActiveItemId:function(value){store.dispatch("setActiveItemId",value)},setQuery:function(value){store.dispatch("setQuery",value)},setCollections:function(rawValue){var baseItemId=0,value=rawValue.map((function(collection){return _objectSpread$c(_objectSpread$c({},collection),{},{items:flatten(collection.items).map((function(item){return _objectSpread$c(_objectSpread$c({},item),{},{__autocomplete_id:baseItemId++})}))})}));store.dispatch("setCollections",value)},setIsOpen:function(value){store.dispatch("setIsOpen",value)},setStatus:function(value){store.dispatch("setStatus",value)},setContext:function(value){store.dispatch("setContext",value)}}}({store:store}),propGetters=getPropGetters(_objectSpread$3({props:props,refresh:refresh,store:store,navigator:props.navigator},setters));function refresh(){return onInput(_objectSpread$3({event:new Event("input"),nextState:{isOpen:store.getState().isOpen},props:props,navigator:props.navigator,query:store.getState().query,refresh:refresh,store:store},setters))}function subscribePlugins(plugins){plugins.forEach((function(plugin){var _plugin$subscribe;return null===(_plugin$subscribe=plugin.subscribe)||void 0===_plugin$subscribe?void 0:_plugin$subscribe.call(plugin,_objectSpread$3(_objectSpread$3({},setters),{},{navigator:props.navigator,refresh:refresh,onSelect:function(fn){subscribers.push({onSelect:fn})},onActive:function(fn){subscribers.push({onActive:fn})},onResolve:function(fn){subscribers.push({onResolve:fn})}}))}))}function isAlgoliaInsightsPluginEnabled(){return props.plugins.some((function(plugin){return"aa.algoliaInsightsPlugin"===plugin.name}))}if(props.insights&&!isAlgoliaInsightsPluginEnabled()){var insightsParams="boolean"==typeof props.insights?{}:props.insights;props.plugins.push(createAlgoliaInsightsPlugin(insightsParams))}return subscribePlugins(props.plugins),function(_ref3){var _environment$navigato,_environment$navigato2,metadata=_ref3.metadata,environment=_ref3.environment;if(null===(_environment$navigato=environment.navigator)||void 0===_environment$navigato||null===(_environment$navigato2=_environment$navigato.userAgent)||void 0===_environment$navigato2?void 0:_environment$navigato2.includes("Algolia Crawler")){var metadataContainer=environment.document.createElement("meta"),headRef=environment.document.querySelector("head");metadataContainer.name="algolia:metadata",setTimeout((function(){metadataContainer.content=JSON.stringify(metadata),headRef.appendChild(metadataContainer)}),0)}}({metadata:getMetadata({plugins:props.plugins,options:options}),environment:props.environment}),_objectSpread$3(_objectSpread$3({refresh:refresh,navigator:props.navigator},propGetters),setters)}var n$1=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+"":p?(u=t.apply(a,n$1(t,a,r,["",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t$1=new Map;function htm(s){var r=t$1.get(this);return r||(r=new Map,t$1.set(this,r)),(r=n$1(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e="",u="",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&"..."===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=""},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?"<"===t?(p(),h=[h],r=3):e+=t:4===r?"--"===e&&">"===t?(r=1,e=""):e=t+e[0]:u?t===u?u="":e+=t:'"'===t||"'"===t?u=t:">"===t?(p(),r=1):r&&("="===t?(r=5,s=e,e=""):"/"===t&&(r<5||">"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(p(),r=2):e+=t),3===r&&"!--"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}var ClearIcon=function(_ref){var environment=_ref.environment,element=environment.document.createElementNS("http://www.w3.org/2000/svg","svg");element.setAttribute("class","aa-ClearIcon"),element.setAttribute("viewBox","0 0 24 24"),element.setAttribute("width","18"),element.setAttribute("height","18"),element.setAttribute("fill","currentColor");var path=environment.document.createElementNS("http://www.w3.org/2000/svg","path");return path.setAttribute("d","M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"),element.appendChild(path),element};function getHTMLElement(environment,value){if("string"==typeof value){var element=environment.document.querySelector(value);return invariant(null!==element,"The element ".concat(JSON.stringify(value)," is not in the document.")),element}return value}function mergeClassNames(){for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++)values[_key]=arguments[_key];return values.reduce((function(acc,current){return Object.keys(current).forEach((function(key){var accValue=acc[key],currentValue=current[key];accValue!==currentValue&&(acc[key]=[accValue,currentValue].filter(Boolean).join(" "))})),acc}),{})}var isPlainObject=function(value){return value&&"object"===_typeof$i(value)&&"[object Object]"===Object.prototype.toString.call(value)};function mergeDeep(){for(var _len=arguments.length,values=new Array(_len),_key=0;_key<_len;_key++)values[_key]=arguments[_key];return values.reduce((function(acc,current){return Object.keys(current).forEach((function(key){var accValue=acc[key],currentValue=current[key];Array.isArray(accValue)&&Array.isArray(currentValue)?acc[key]=accValue.concat.apply(accValue,_toConsumableArray$7(currentValue)):isPlainObject(accValue)&&isPlainObject(currentValue)?acc[key]=mergeDeep(accValue,currentValue):acc[key]=currentValue})),acc}),{})}function pickBy(obj,predicate){return Object.entries(obj).reduce((function(acc,_ref){var _ref2=_slicedToArray$2(_ref,2),key=_ref2[0],value=_ref2[1];return predicate({key:key,value:value})?_objectSpread2(_objectSpread2({},acc),{},_defineProperty$h({},key,value)):acc}),{})}var TOUCH_EVENTS_ALIASES=["ontouchstart","ontouchend","ontouchmove","ontouchcancel"];function setStyle(style,key,value){style[key]=null===value?"":"number"!=typeof value?value:value+"px"}function eventProxy(event){this._listeners[event.type](event)}function setProperty(dom,name,value){var useCapture,nameLower,oldValue=dom[name];if("style"===name)if("string"==typeof value)dom.style=value;else if(null===value)dom.style="";else for(name in value)oldValue&&value[name]===oldValue[name]||setStyle(dom.style,name,value[name]);else"o"===name[0]&&"n"===name[1]?(useCapture=name!==(name=name.replace(/Capture$/,"")),((nameLower=name.toLowerCase())in dom||TOUCH_EVENTS_ALIASES.includes(nameLower))&&(name=nameLower),name=name.slice(2),dom._listeners||(dom._listeners={}),dom._listeners[name]=value,value?oldValue||dom.addEventListener(name,eventProxy,useCapture):dom.removeEventListener(name,eventProxy,useCapture)):"list"!==name&&"tagName"!==name&&"form"!==name&&"type"!==name&&"size"!==name&&"download"!==name&&"href"!==name&&name in dom?dom[name]=null==value?"":value:"function"!=typeof value&&"dangerouslySetInnerHTML"!==name&&(null==value||!1===value&&!/^ar/.test(name)?dom.removeAttribute(name):dom.setAttribute(name,value))}function getNormalizedName(name){return"onChange"===name?"onInput":name}function setProperties(dom,props){for(var name in props)setProperty(dom,getNormalizedName(name),props[name])}function setPropertiesWithoutEvents(dom,props){for(var name in props)"o"===name[0]&&"n"===name[1]||setProperty(dom,getNormalizedName(name),props[name])}var _excluded$4=["children"];function getCreateDomElement(environment){return function(tagName,_ref){var _ref$children=_ref.children,children=void 0===_ref$children?[]:_ref$children,props=_objectWithoutProperties$5(_ref,_excluded$4),element=environment.document.createElement(tagName);return setProperties(element,props),element.append.apply(element,_toConsumableArray$7(children)),element}}var _excluded$3=["autocompleteScopeApi","environment","classNames","getInputProps","getInputPropsCore","isDetached","state"],LoadingIcon=function(_ref){var element=_ref.environment.document.createElementNS("http://www.w3.org/2000/svg","svg");return element.setAttribute("class","aa-LoadingIcon"),element.setAttribute("viewBox","0 0 100 100"),element.setAttribute("width","20"),element.setAttribute("height","20"),element.innerHTML='<circle\n  cx="50"\n  cy="50"\n  fill="none"\n  r="35"\n  stroke="currentColor"\n  stroke-dasharray="164.93361431346415 56.97787143782138"\n  stroke-width="6"\n>\n  <animateTransform\n    attributeName="transform"\n    type="rotate"\n    repeatCount="indefinite"\n    dur="1s"\n    values="0 50 50;90 50 50;180 50 50;360 50 50"\n    keyTimes="0;0.40;0.65;1"\n  />\n</circle>',element},SearchIcon=function(_ref){var environment=_ref.environment,element=environment.document.createElementNS("http://www.w3.org/2000/svg","svg");element.setAttribute("class","aa-SubmitIcon"),element.setAttribute("viewBox","0 0 24 24"),element.setAttribute("width","20"),element.setAttribute("height","20"),element.setAttribute("fill","currentColor");var path=environment.document.createElementNS("http://www.w3.org/2000/svg","path");return path.setAttribute("d","M16.041 15.856c-0.034 0.026-0.067 0.055-0.099 0.087s-0.060 0.064-0.087 0.099c-1.258 1.213-2.969 1.958-4.855 1.958-1.933 0-3.682-0.782-4.95-2.050s-2.050-3.017-2.050-4.95 0.782-3.682 2.050-4.95 3.017-2.050 4.95-2.050 3.682 0.782 4.95 2.050 2.050 3.017 2.050 4.95c0 1.886-0.745 3.597-1.959 4.856zM21.707 20.293l-3.675-3.675c1.231-1.54 1.968-3.493 1.968-5.618 0-2.485-1.008-4.736-2.636-6.364s-3.879-2.636-6.364-2.636-4.736 1.008-6.364 2.636-2.636 3.879-2.636 6.364 1.008 4.736 2.636 6.364 3.879 2.636 6.364 2.636c2.125 0 4.078-0.737 5.618-1.968l3.675 3.675c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414z"),element.appendChild(path),element};function createAutocompleteDom(_ref){var autocomplete=_ref.autocomplete,autocompleteScopeApi=_ref.autocompleteScopeApi,classNames=_ref.classNames,environment=_ref.environment,isDetached=_ref.isDetached,_ref$placeholder=_ref.placeholder,placeholder=void 0===_ref$placeholder?"Search":_ref$placeholder,propGetters=_ref.propGetters,setIsModalOpen=_ref.setIsModalOpen,state=_ref.state,translations=_ref.translations,createDomElement=getCreateDomElement(environment),rootProps=propGetters.getRootProps(_objectSpread2({state:state,props:autocomplete.getRootProps({})},autocompleteScopeApi)),root=createDomElement("div",_objectSpread2({class:classNames.root},rootProps)),detachedContainer=createDomElement("div",{class:classNames.detachedContainer,onMouseDown:function(event){event.stopPropagation()}}),detachedOverlay=createDomElement("div",{class:classNames.detachedOverlay,children:[detachedContainer],onMouseDown:function(){setIsModalOpen(!1),autocomplete.setIsOpen(!1)}}),labelProps=propGetters.getLabelProps(_objectSpread2({state:state,props:autocomplete.getLabelProps({})},autocompleteScopeApi)),submitButton=createDomElement("button",{class:classNames.submitButton,type:"submit",title:translations.submitButtonTitle,children:[SearchIcon({environment:environment})]}),label=createDomElement("label",_objectSpread2({class:classNames.label,children:[submitButton]},labelProps)),clearButton=createDomElement("button",{class:classNames.clearButton,type:"reset",title:translations.clearButtonTitle,children:[ClearIcon({environment:environment})]}),loadingIndicator=createDomElement("div",{class:classNames.loadingIndicator,children:[LoadingIcon({environment:environment})]}),input=function(_ref){var autocompleteScopeApi=_ref.autocompleteScopeApi,environment=_ref.environment;_ref.classNames;var getInputProps=_ref.getInputProps,getInputPropsCore=_ref.getInputPropsCore,isDetached=_ref.isDetached,state=_ref.state,props=_objectWithoutProperties$5(_ref,_excluded$3),element=getCreateDomElement(environment)("input",props),inputProps=getInputProps(_objectSpread2({state:state,props:getInputPropsCore({inputElement:element}),inputElement:element},autocompleteScopeApi));return setProperties(element,_objectSpread2(_objectSpread2({},inputProps),{},{onKeyDown:function(event){isDetached&&"Tab"===event.key||inputProps.onKeyDown(event)}})),element}({class:classNames.input,environment:environment,state:state,getInputProps:propGetters.getInputProps,getInputPropsCore:autocomplete.getInputProps,autocompleteScopeApi:autocompleteScopeApi,isDetached:isDetached}),inputWrapperPrefix=createDomElement("div",{class:classNames.inputWrapperPrefix,children:[label,loadingIndicator]}),inputWrapperSuffix=createDomElement("div",{class:classNames.inputWrapperSuffix,children:[clearButton]}),inputWrapper=createDomElement("div",{class:classNames.inputWrapper,children:[input]}),formProps=propGetters.getFormProps(_objectSpread2({state:state,props:autocomplete.getFormProps({inputElement:input})},autocompleteScopeApi)),form=createDomElement("form",_objectSpread2({class:classNames.form,children:[inputWrapperPrefix,inputWrapper,inputWrapperSuffix]},formProps)),panelProps=propGetters.getPanelProps(_objectSpread2({state:state,props:autocomplete.getPanelProps({})},autocompleteScopeApi)),panel=createDomElement("div",_objectSpread2({class:classNames.panel},panelProps)),detachedSearchButtonQuery=createDomElement("div",{class:classNames.detachedSearchButtonQuery,textContent:state.query}),detachedSearchButtonPlaceholder=createDomElement("div",{class:classNames.detachedSearchButtonPlaceholder,hidden:Boolean(state.query),textContent:placeholder});if(isDetached){var detachedSearchButtonIcon=createDomElement("div",{class:classNames.detachedSearchButtonIcon,children:[SearchIcon({environment:environment})]}),detachedSearchButton=createDomElement("button",{type:"button",class:classNames.detachedSearchButton,onClick:function(){setIsModalOpen(!0)},children:[detachedSearchButtonIcon,detachedSearchButtonPlaceholder,detachedSearchButtonQuery]}),detachedCancelButton=createDomElement("button",{type:"button",class:classNames.detachedCancelButton,textContent:translations.detachedCancelButtonText,onTouchStart:function(event){event.stopPropagation()},onClick:function(){autocomplete.setIsOpen(!1),setIsModalOpen(!1)}}),detachedFormContainer=createDomElement("div",{class:classNames.detachedFormContainer,children:[form,detachedCancelButton]});detachedContainer.appendChild(detachedFormContainer),root.appendChild(detachedSearchButton)}else root.appendChild(form);return{detachedContainer:detachedContainer,detachedOverlay:detachedOverlay,detachedSearchButtonQuery:detachedSearchButtonQuery,detachedSearchButtonPlaceholder:detachedSearchButtonPlaceholder,inputWrapper:inputWrapper,input:input,root:root,form:form,label:label,submitButton:submitButton,clearButton:clearButton,loadingIndicator:loadingIndicator,panel:panel}}var n,l,u,t,r,o,f,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function _(n){return n.children}function k(n,l){this.props=n,this.context=l}function b(n,l){if(null==l)return n.__?b(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return"function"==typeof n.type?b(n):null}function g(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return g(n)}}function m(n){(!n.__d&&(n.__d=!0)&&t.push(n)&&!w.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)(w)}function w(){var n,l,u,i,r,o,e,c;for(t.sort(f);n=t.shift();)n.__d&&(l=t.length,i=void 0,r=void 0,e=(o=(u=n).__v).__e,(c=u.__P)&&(i=[],(r=h({},o)).__v=o.__v+1,L(c,o,r,u.__n,void 0!==c.ownerSVGElement,null!=o.__h?[e]:null,i,null==e?b(o):e,o.__h),M(i,o),o.__e!=e&&g(o)),t.length>l&&t.sort(f));w.__r=0}function x(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,g,m,w=i&&i.__k||s,x=w.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||"boolean"==typeof d||"function"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=w[h])||y&&d.key==y.key&&d.type===y.type)w[h]=void 0;else for(v=0;v<x;v++){if((y=w[v])&&d.key==y.key&&d.type===y.type){w[v]=void 0;break}y=null}L(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(m||(m=[]),y.ref&&m.push(y.ref,null,d),m.push(v,d.__c||k,d)),null!=k?(null==g&&(g=k),"function"==typeof d.type&&d.__k===y.__k?d.__d=e=A(d,e,n):e=C(n,d,y,w,k,e),"function"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=b(y))}for(u.__e=g,h=x;h--;)null!=w[h]&&("function"==typeof u.type&&null!=w[h].__e&&w[h].__e==u.__d&&(u.__d=$(i).nextSibling),S(w[h],w[h]));if(m)for(h=0;h<m.length;h++)O(m[h],m[++h],m[++h])}function A(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l="function"==typeof i.type?A(i,l,u):C(u,i,i,t,i.__e,l));return l}function C(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function $(n){var l,u,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=$(u)))return i;return null}function I(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||a.test(l)?u:u+"px"}function T(n,l,u,i,t){var r;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else{if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||I(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||I(n.style,l,u[l])}else if("o"===l[0]&&"n"===l[1])r=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?z:j,r):n.removeEventListener(l,r?z:j,r);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&"-"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function j(n){return this.l[n.type+!1](l.event?l.event(n):n)}function z(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,b,g,m,w,A,P,C,$,H,I=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if("function"==typeof I){if(g=u.props,m=(s=I.contextType)&&t[s.__c],w=s?m?m.props.value:s.__:t,i.__c?b=(a=u.__c=i.__c).__=a.__E:("prototype"in I&&I.prototype.render?u.__c=a=new I(g,w):(u.__c=a=new k(g,w),a.constructor=I,a.render=q),m&&m.sub(a),a.props=g,a.state||(a.state={}),a.context=w,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=I.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,I.getDerivedStateFromProps(g,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==I.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==I.getDerivedStateFromProps&&g!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(g,w),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(g,a.__s,w)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=g,a.state=a.__s,a.__d=!1),a.__e=!1,u.__e=i.__e,u.__k=i.__k,u.__k.forEach((function(n){n&&(n.__=u)})),A=0;A<a._sb.length;A++)a.__h.push(a._sb[A]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(g,a.__s,w),null!=a.componentDidUpdate&&a.__h.push((function(){a.componentDidUpdate(y,p,d)}))}if(a.context=w,a.props=g,a.__P=n,P=l.__r,C=0,"prototype"in I&&I.prototype.render){for(a.state=a.__s,a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),$=0;$<a._sb.length;$++)a.__h.push(a._sb[$]);a._sb=[]}else do{a.__d=!1,P&&P(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++C<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),H=null!=s&&s.type===_&&null==s.key?s.props.children:s,x(n,Array.isArray(H)?H:[H],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),b&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=N(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function M(n,u){l.__c&&l.__c(u,n),n.some((function(u){try{n=u.__h,u.__h=[],n.some((function(n){n.call(u)}))}catch(n){l.__e(n,u.__v)}}))}function N(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||""))}if(function(n,l,u,i,t){var r;for(r in u)"children"===r||"key"===r||r in l||T(n,r,null,u[r],i);for(r in l)t&&"function"!=typeof l[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===l[r]||T(n,r,l[r],u[r],i)}(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,x(l,Array.isArray(_)?_:[_],u,i,t,r&&"foreignObject"!==d,o,f,o?o[0]:i.__k&&b(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_||"option"===d&&_!==y.value)&&T(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&T(l,"checked",_,y.checked,!1))}return l}function O(n,u,i){try{"function"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function S(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||O(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&S(t[r],u,i||"function"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function q(n,l,u){return this.constructor(n,u)}function parseAttribute(_ref){var preTagParts=_ref.highlightedValue.split("__aa-highlight__"),firstValue=preTagParts.shift(),parts=function(){var value=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{get:function(){return value},add:function(part){var lastPart=value[value.length-1];(null==lastPart?void 0:lastPart.isHighlighted)===part.isHighlighted?value[value.length-1]={value:lastPart.value+part.value,isHighlighted:lastPart.isHighlighted}:value.push(part)}}}(firstValue?[{value:firstValue,isHighlighted:!1}]:[]);return preTagParts.forEach((function(part){var postTagParts=part.split("__/aa-highlight__");parts.add({value:postTagParts[0],isHighlighted:!0}),""!==postTagParts[1]&&parts.add({value:postTagParts[1],isHighlighted:!1})})),parts.get()}function _toConsumableArray$2(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$2(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$2(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$2(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$2(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function parseAlgoliaHitHighlight(_ref){var hit=_ref.hit,attribute=_ref.attribute,path=Array.isArray(attribute)?attribute:[attribute],highlightedValue=getAttributeValueByPath(hit,["_highlightResult"].concat(_toConsumableArray$2(path),["value"]));return"string"!=typeof highlightedValue&&(warn(!1,'The attribute "'.concat(path.join("."),'" described by the path ').concat(JSON.stringify(path)," does not exist on the hit. Did you set it in `attributesToHighlight`?")+"\nSee https://www.algolia.com/doc/api-reference/api-parameters/attributesToHighlight/"),highlightedValue=getAttributeValueByPath(hit,path)||""),parseAttribute({highlightedValue:highlightedValue})}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,k.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),m(this))},k.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),m(this))},k.prototype.render=_,t=[],o="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},w.__r=0;var htmlEscapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},hasAlphanumeric=new RegExp(/\w/i),regexEscapedHtml=/&(amp|quot|lt|gt|#39);/g,regexHasEscapedHtml=RegExp(regexEscapedHtml.source);function isPartHighlighted(parts,i){var _parts,_parts2,value,current=parts[i],isNextHighlighted=(null===(_parts=parts[i+1])||void 0===_parts?void 0:_parts.isHighlighted)||!0,isPreviousHighlighted=(null===(_parts2=parts[i-1])||void 0===_parts2?void 0:_parts2.isHighlighted)||!0;return hasAlphanumeric.test((value=current.value)&&regexHasEscapedHtml.test(value)?value.replace(regexEscapedHtml,(function(character){return htmlEscapes[character]})):value)||isPreviousHighlighted!==isNextHighlighted?current.isHighlighted:isPreviousHighlighted}function _typeof$2(obj){return _typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$2(obj)}function ownKeys$2(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$2(Object(source),!0).forEach((function(key){_defineProperty$2(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$2(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$2(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$2(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$2(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$2(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function reverseHighlightedParts(parts){return parts.some((function(part){return part.isHighlighted}))?parts.map((function(part,i){return _objectSpread$2(_objectSpread$2({},part),{},{isHighlighted:!isPartHighlighted(parts,i)})})):parts.map((function(part){return _objectSpread$2(_objectSpread$2({},part),{},{isHighlighted:!1})}))}function _toConsumableArray$1(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$1(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray$1(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray$1(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$1(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function parseAlgoliaHitSnippet(_ref){var hit=_ref.hit,attribute=_ref.attribute,path=Array.isArray(attribute)?attribute:[attribute],highlightedValue=getAttributeValueByPath(hit,["_snippetResult"].concat(_toConsumableArray$1(path),["value"]));return"string"!=typeof highlightedValue&&(warn(!1,'The attribute "'.concat(path.join("."),'" described by the path ').concat(JSON.stringify(path)," does not exist on the hit. Did you set it in `attributesToSnippet`?")+"\nSee https://www.algolia.com/doc/api-reference/api-parameters/attributesToSnippet/"),highlightedValue=getAttributeValueByPath(hit,path)||""),parseAttribute({highlightedValue:highlightedValue})}function _typeof$1(obj){return _typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof$1(obj)}function ownKeys$1(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread$1(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys$1(Object(source),!0).forEach((function(key){_defineProperty$1(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys$1(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty$1(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$1(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof$1(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$1(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}var _excluded$2=["params"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint||"default");if("object"!==_typeof(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function createHighlightComponent(_ref){var createElement=_ref.createElement,Fragment=_ref.Fragment;function Highlight(_ref2){var hit=_ref2.hit,attribute=_ref2.attribute,_ref2$tagName=_ref2.tagName,tagName=void 0===_ref2$tagName?"mark":_ref2$tagName;return createElement(Fragment,{},parseAlgoliaHitHighlight({hit:hit,attribute:attribute}).map((function(x,index){return x.isHighlighted?createElement(tagName,{key:index},x.value):x.value})))}return Highlight.__autocomplete_componentName="Highlight",Highlight}function createReverseHighlightComponent(_ref){var createElement=_ref.createElement,Fragment=_ref.Fragment;function ReverseHighlight(_ref2){var props,hit=_ref2.hit,attribute=_ref2.attribute,_ref2$tagName=_ref2.tagName,tagName=void 0===_ref2$tagName?"mark":_ref2$tagName;return createElement(Fragment,{},(props={hit:hit,attribute:attribute},reverseHighlightedParts(parseAlgoliaHitHighlight(props))).map((function(x,index){return x.isHighlighted?createElement(tagName,{key:index},x.value):x.value})))}return ReverseHighlight.__autocomplete_componentName="ReverseHighlight",ReverseHighlight}function createReverseSnippetComponent(_ref){var createElement=_ref.createElement,Fragment=_ref.Fragment;function ReverseSnippet(_ref2){var props,hit=_ref2.hit,attribute=_ref2.attribute,_ref2$tagName=_ref2.tagName,tagName=void 0===_ref2$tagName?"mark":_ref2$tagName;return createElement(Fragment,{},(props={hit:hit,attribute:attribute},reverseHighlightedParts(parseAlgoliaHitSnippet(props))).map((function(x,index){return x.isHighlighted?createElement(tagName,{key:index},x.value):x.value})))}return ReverseSnippet.__autocomplete_componentName="ReverseSnippet",ReverseSnippet}function createSnippetComponent(_ref){var createElement=_ref.createElement,Fragment=_ref.Fragment;function Snippet(_ref2){var hit=_ref2.hit,attribute=_ref2.attribute,_ref2$tagName=_ref2.tagName,tagName=void 0===_ref2$tagName?"mark":_ref2$tagName;return createElement(Fragment,{},parseAlgoliaHitSnippet({hit:hit,attribute:attribute}).map((function(x,index){return x.isHighlighted?createElement(tagName,{key:index},x.value):x.value})))}return Snippet.__autocomplete_componentName="Snippet",Snippet}var _excluded$1=["classNames","container","getEnvironmentProps","getFormProps","getInputProps","getItemProps","getLabelProps","getListProps","getPanelProps","getRootProps","panelContainer","panelPlacement","render","renderNoResults","renderer","detachedMediaQuery","components","translations"],defaultClassNames={clearButton:"aa-ClearButton",detachedCancelButton:"aa-DetachedCancelButton",detachedContainer:"aa-DetachedContainer",detachedFormContainer:"aa-DetachedFormContainer",detachedOverlay:"aa-DetachedOverlay",detachedSearchButton:"aa-DetachedSearchButton",detachedSearchButtonIcon:"aa-DetachedSearchButtonIcon",detachedSearchButtonPlaceholder:"aa-DetachedSearchButtonPlaceholder",detachedSearchButtonQuery:"aa-DetachedSearchButtonQuery",form:"aa-Form",input:"aa-Input",inputWrapper:"aa-InputWrapper",inputWrapperPrefix:"aa-InputWrapperPrefix",inputWrapperSuffix:"aa-InputWrapperSuffix",item:"aa-Item",label:"aa-Label",list:"aa-List",loadingIndicator:"aa-LoadingIndicator",panel:"aa-Panel",panelLayout:"aa-PanelLayout aa-Panel--scrollable",root:"aa-Autocomplete",source:"aa-Source",sourceFooter:"aa-SourceFooter",sourceHeader:"aa-SourceHeader",sourceNoResults:"aa-SourceNoResults",submitButton:"aa-SubmitButton"},defaultRender=function(_ref,root){var children=_ref.children;(0,_ref.render)(children,root)},defaultRenderer={createElement:y,Fragment:_,render:function(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r="function"==typeof t)?null:t&&t.__k||i.__k,f=[],L(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),M(f,u)}};function getPanelPlacementStyle(_ref){var panelPlacement=_ref.panelPlacement,container=_ref.container,form=_ref.form,environment=_ref.environment,containerRect=container.getBoundingClientRect(),top=(environment.pageYOffset||environment.document.documentElement.scrollTop||environment.document.body.scrollTop||0)+containerRect.top+containerRect.height;switch(panelPlacement){case"start":return{top:top,left:containerRect.left};case"end":return{top:top,right:environment.document.documentElement.clientWidth-(containerRect.left+containerRect.width)};case"full-width":return{top:top,left:0,right:0,width:"unset",maxWidth:"unset"};case"input-wrapper-width":var formRect=form.getBoundingClientRect();return{top:top,left:formRect.left,right:environment.document.documentElement.clientWidth-(formRect.left+formRect.width),width:"unset",maxWidth:"unset"};default:throw new Error("[Autocomplete] The `panelPlacement` value ".concat(JSON.stringify(panelPlacement)," is not valid."))}}var userAgents=[{segment:"autocomplete-js",version:"1.15.0"}],_excluded=["components"],instancesCount=0,createAlgoliaRequester=function(fetcher,requesterId){function execute(fetcherParams){return fetcher({searchClient:fetcherParams.searchClient,queries:fetcherParams.requests.map((function(x){return x.query}))}).then((function(responses){return responses.map((function(response,index){var _fetcherParams$reques=fetcherParams.requests[index];return{items:response,sourceId:_fetcherParams$reques.sourceId,transformResponse:_fetcherParams$reques.transformResponse}}))}))}return function(requesterParams){return function(requestParams){return _objectSpread$1(_objectSpread$1({requesterId:requesterId,execute:execute},requesterParams),requestParams)}}}((function(params){return function(_ref){var searchClient=_ref.searchClient,queries=_ref.queries,_ref$userAgents=_ref.userAgents,userAgents=void 0===_ref$userAgents?[]:_ref$userAgents;"function"==typeof searchClient.addAlgoliaAgent&&[].concat(_toConsumableArray(userAgents$1),_toConsumableArray(userAgents)).forEach((function(_ref2){var segment=_ref2.segment,version=_ref2.version;searchClient.addAlgoliaAgent(segment,version)}));var _getAppIdAndApiKey=function(searchClient){var _ref=searchClient.transporter||{},_ref$headers=_ref.headers,headers=void 0===_ref$headers?{}:_ref$headers,_ref$queryParameters=_ref.queryParameters,queryParameters=void 0===_ref$queryParameters?{}:_ref$queryParameters,APP_ID="x-algolia-application-id";return{appId:headers[APP_ID]||queryParameters[APP_ID],apiKey:headers["x-algolia-api-key"]||queryParameters["x-algolia-api-key"]}}(searchClient),appId=_getAppIdAndApiKey.appId,apiKey=_getAppIdAndApiKey.apiKey;return invariant(Boolean(appId),"The Algolia `appId` was not accessible from the searchClient passed."),invariant(Boolean(apiKey),"The Algolia `apiKey` was not accessible from the searchClient passed."),searchClient.search(queries.map((function(searchParameters){var params=searchParameters.params;return _objectSpread(_objectSpread({},_objectWithoutProperties(searchParameters,_excluded$2)),{},{params:_objectSpread({hitsPerPage:5,highlightPreTag:"__aa-highlight__",highlightPostTag:"__/aa-highlight__"},params)})}))).then((function(response){return response.results.map((function(result,resultIndex){var _result$hits;return _objectSpread(_objectSpread({},result),{},{hits:null===(_result$hits=result.hits)||void 0===_result$hits?void 0:_result$hits.map((function(hit){return _objectSpread(_objectSpread({},hit),{},{__autocomplete_indexName:result.index||queries[resultIndex].indexName,__autocomplete_queryID:result.queryID,__autocomplete_algoliaCredentials:{appId:appId,apiKey:apiKey}})}))})}))}))}(_objectSpread2(_objectSpread2({},params),{},{userAgents:userAgents}))}),"algolia"),getAlgoliaResults=createAlgoliaRequester({transformResponse:function(response){return response.hits}});exports.autocomplete=function(options){var reactives,_createEffectWrapper=function(){var effects=[],cleanups=[];function runEffect(fn){effects.push(fn);var effectCleanup=fn();cleanups.push(effectCleanup)}return{runEffect:runEffect,cleanupEffects:function(){var currentCleanups=cleanups;cleanups=[],currentCleanups.forEach((function(cleanup){cleanup()}))},runEffects:function(){var currentEffects=effects;effects=[],currentEffects.forEach((function(effect){runEffect(effect)}))}}}(),runEffect=_createEffectWrapper.runEffect,cleanupEffects=_createEffectWrapper.cleanupEffects,runEffects=_createEffectWrapper.runEffects,_createReactiveWrappe=(reactives=[],{reactive:function(value){var current=value(),reactive={_fn:value,_ref:{current:current},get value(){return this._ref.current},set value(value){this._ref.current=value}};return reactives.push(reactive),reactive},runReactives:function(){reactives.forEach((function(value){value._ref.current=value._fn()}))}}),reactive=_createReactiveWrappe.reactive,runReactives=_createReactiveWrappe.runReactives,hasNoResultsSourceTemplateRef=createRef(!1),optionsRef=createRef(options),onStateChangeRef=createRef(void 0),props=reactive((function(){return function(options){var _core$id,classNames=options.classNames,container=options.container,getEnvironmentProps=options.getEnvironmentProps,getFormProps=options.getFormProps,getInputProps=options.getInputProps,getItemProps=options.getItemProps,getLabelProps=options.getLabelProps,getListProps=options.getListProps,getPanelProps=options.getPanelProps,getRootProps=options.getRootProps,panelContainer=options.panelContainer,panelPlacement=options.panelPlacement,render=options.render,renderNoResults=options.renderNoResults,renderer=options.renderer,detachedMediaQuery=options.detachedMediaQuery,components=options.components,translations=options.translations,core=_objectWithoutProperties$5(options,_excluded$1),environment="undefined"!=typeof window?window:{},containerElement=getHTMLElement(environment,container);invariant("INPUT"!==containerElement.tagName,"The `container` option does not support `input` elements. You need to change the container to a `div`."),warn(!(render&&renderer&&(null==renderer||!renderer.render)),"You provided the `render` option but did not provide a `renderer.render`. Since v1.6.0, you can provide a `render` function directly in `renderer`.\nTo get rid of this warning, do any of the following depending on your use case.\n- If you are using the `render` option only to override Autocomplete's default `render` function, pass the `render` function into `renderer` and remove the `render` option.\n- If you are using the `render` option to customize the layout, pass your `render` function into `renderer` and use it from the provided parameters of the `render` option.\n- If you are using the `render` option to work with React 18, pass an empty `render` function into `renderer`.\nSee https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-js/autocomplete/#param-render"),warn(!renderer||render||renderer.Fragment&&renderer.createElement&&renderer.render,"You provided an incomplete `renderer` (missing: ".concat([!(null!=renderer&&renderer.createElement)&&"`renderer.createElement`",!(null!=renderer&&renderer.Fragment)&&"`renderer.Fragment`",!(null!=renderer&&renderer.render)&&"`renderer.render`"].filter(Boolean).join(", "),"). This can cause rendering issues.")+"\nSee https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-js/autocomplete/#param-renderer");var defaultedRenderer=_objectSpread2(_objectSpread2({},defaultRenderer),renderer),defaultComponents={Highlight:createHighlightComponent(defaultedRenderer),ReverseHighlight:createReverseHighlightComponent(defaultedRenderer),ReverseSnippet:createReverseSnippetComponent(defaultedRenderer),Snippet:createSnippetComponent(defaultedRenderer)};return{renderer:{classNames:mergeClassNames(defaultClassNames,null!=classNames?classNames:{}),container:containerElement,getEnvironmentProps:null!=getEnvironmentProps?getEnvironmentProps:function(_ref2){return _ref2.props},getFormProps:null!=getFormProps?getFormProps:function(_ref3){return _ref3.props},getInputProps:null!=getInputProps?getInputProps:function(_ref4){return _ref4.props},getItemProps:null!=getItemProps?getItemProps:function(_ref5){return _ref5.props},getLabelProps:null!=getLabelProps?getLabelProps:function(_ref6){return _ref6.props},getListProps:null!=getListProps?getListProps:function(_ref7){return _ref7.props},getPanelProps:null!=getPanelProps?getPanelProps:function(_ref8){return _ref8.props},getRootProps:null!=getRootProps?getRootProps:function(_ref9){return _ref9.props},panelContainer:panelContainer?getHTMLElement(environment,panelContainer):environment.document.body,panelPlacement:null!=panelPlacement?panelPlacement:"input-wrapper-width",render:null!=render?render:defaultRender,renderNoResults:renderNoResults,renderer:defaultedRenderer,detachedMediaQuery:null!=detachedMediaQuery?detachedMediaQuery:getComputedStyle(environment.document.documentElement).getPropertyValue("--aa-detached-media-query"),components:_objectSpread2(_objectSpread2({},defaultComponents),components),translations:_objectSpread2(_objectSpread2({},{clearButtonTitle:"Clear",detachedCancelButtonText:"Cancel",submitButtonTitle:"Submit"}),translations)},core:_objectSpread2(_objectSpread2({},core),{},{id:null!==(_core$id=core.id)&&void 0!==_core$id?_core$id:generateAutocompleteId(),environment:environment})}}(optionsRef.current)})),isDetached=reactive((function(){return props.value.core.environment.matchMedia(props.value.renderer.detachedMediaQuery).matches})),autocomplete=reactive((function(){return createAutocomplete(_objectSpread2(_objectSpread2({},props.value.core),{},{onStateChange:function(params){var _onStateChangeRef$cur,_props$value$core$onS,_props$value$core;hasNoResultsSourceTemplateRef.current=params.state.collections.some((function(collection){return collection.source.templates.noResults})),null===(_onStateChangeRef$cur=onStateChangeRef.current)||void 0===_onStateChangeRef$cur||_onStateChangeRef$cur.call(onStateChangeRef,params),null===(_props$value$core$onS=(_props$value$core=props.value.core).onStateChange)||void 0===_props$value$core$onS||_props$value$core$onS.call(_props$value$core,params)},shouldPanelOpen:optionsRef.current.shouldPanelOpen||function(_ref){var state=_ref.state;if(isDetached.value)return!0;var hasItems=getItemsCount(state)>0;if(!props.value.core.openOnFocus&&!state.query)return hasItems;var hasNoResultsTemplate=Boolean(hasNoResultsSourceTemplateRef.current||props.value.renderer.renderNoResults);return!hasItems&&hasNoResultsTemplate||hasItems},__autocomplete_metadata:{userAgents:userAgents,options:options}}))})),lastStateRef=createRef(_objectSpread2({collections:[],completion:null,context:{},isOpen:!1,query:"",activeItemId:null,status:"idle"},props.value.core.initialState)),propGetters={getEnvironmentProps:props.value.renderer.getEnvironmentProps,getFormProps:props.value.renderer.getFormProps,getInputProps:props.value.renderer.getInputProps,getItemProps:props.value.renderer.getItemProps,getLabelProps:props.value.renderer.getLabelProps,getListProps:props.value.renderer.getListProps,getPanelProps:props.value.renderer.getPanelProps,getRootProps:props.value.renderer.getRootProps},autocompleteScopeApi={setActiveItemId:autocomplete.value.setActiveItemId,setQuery:autocomplete.value.setQuery,setCollections:autocomplete.value.setCollections,setIsOpen:autocomplete.value.setIsOpen,setStatus:autocomplete.value.setStatus,setContext:autocomplete.value.setContext,refresh:autocomplete.value.refresh,navigator:autocomplete.value.navigator},html=reactive((function(){return htm.bind(props.value.renderer.renderer.createElement)})),dom=reactive((function(){return createAutocompleteDom({autocomplete:autocomplete.value,autocompleteScopeApi:autocompleteScopeApi,classNames:props.value.renderer.classNames,environment:props.value.core.environment,isDetached:isDetached.value,placeholder:props.value.core.placeholder,propGetters:propGetters,setIsModalOpen:setIsModalOpen,state:lastStateRef.current,translations:props.value.renderer.translations})}));function setPanelPosition(){setProperties(dom.value.panel,{style:isDetached.value?{}:getPanelPlacementStyle({panelPlacement:props.value.renderer.panelPlacement,container:dom.value.root,form:dom.value.form,environment:props.value.core.environment})})}function scheduleRender(state){lastStateRef.current=state;var renderProps={autocomplete:autocomplete.value,autocompleteScopeApi:autocompleteScopeApi,classNames:props.value.renderer.classNames,components:props.value.renderer.components,container:props.value.renderer.container,html:html.value,dom:dom.value,panelContainer:isDetached.value?dom.value.detachedContainer:props.value.renderer.panelContainer,propGetters:propGetters,state:lastStateRef.current,renderer:props.value.renderer.renderer},render=!getItemsCount(state)&&!hasNoResultsSourceTemplateRef.current&&props.value.renderer.renderNoResults||props.value.renderer.render;!function(_ref){var autocomplete=_ref.autocomplete,autocompleteScopeApi=_ref.autocompleteScopeApi,dom=_ref.dom,propGetters=_ref.propGetters,state=_ref.state;setPropertiesWithoutEvents(dom.root,propGetters.getRootProps(_objectSpread2({state:state,props:autocomplete.getRootProps({})},autocompleteScopeApi))),setPropertiesWithoutEvents(dom.input,propGetters.getInputProps(_objectSpread2({state:state,props:autocomplete.getInputProps({inputElement:dom.input}),inputElement:dom.input},autocompleteScopeApi))),setProperties(dom.label,{hidden:"stalled"===state.status}),setProperties(dom.loadingIndicator,{hidden:"stalled"!==state.status}),setProperties(dom.clearButton,{hidden:!state.query}),setProperties(dom.detachedSearchButtonQuery,{textContent:state.query}),setProperties(dom.detachedSearchButtonPlaceholder,{hidden:Boolean(state.query)})}(renderProps),function(render,_ref2){var autocomplete=_ref2.autocomplete,autocompleteScopeApi=_ref2.autocompleteScopeApi,classNames=_ref2.classNames,html=_ref2.html,dom=_ref2.dom,panelContainer=_ref2.panelContainer,propGetters=_ref2.propGetters,state=_ref2.state,components=_ref2.components,renderer=_ref2.renderer;if(state.isOpen){panelContainer.contains(dom.panel)||"loading"===state.status||panelContainer.appendChild(dom.panel),dom.panel.classList.toggle("aa-Panel--stalled","stalled"===state.status);var sections=state.collections.filter((function(_ref3){var source=_ref3.source,items=_ref3.items;return source.templates.noResults||items.length>0})).map((function(_ref4,sourceIndex){var source=_ref4.source,items=_ref4.items;return renderer.createElement("section",{key:sourceIndex,className:classNames.source,"data-autocomplete-source-id":source.sourceId},source.templates.header&&renderer.createElement("div",{className:classNames.sourceHeader},source.templates.header({components:components,createElement:renderer.createElement,Fragment:renderer.Fragment,items:items,source:source,state:state,html:html})),source.templates.noResults&&0===items.length?renderer.createElement("div",{className:classNames.sourceNoResults},source.templates.noResults({components:components,createElement:renderer.createElement,Fragment:renderer.Fragment,source:source,state:state,html:html})):renderer.createElement("ul",_extends({className:classNames.list},propGetters.getListProps(_objectSpread2({state:state,props:autocomplete.getListProps({source:source})},autocompleteScopeApi))),items.map((function(item){var itemProps=autocomplete.getItemProps({item:item,source:source});return renderer.createElement("li",_extends({key:itemProps.id,className:classNames.item},propGetters.getItemProps(_objectSpread2({state:state,props:itemProps},autocompleteScopeApi))),source.templates.item({components:components,createElement:renderer.createElement,Fragment:renderer.Fragment,item:item,state:state,html:html}))}))),source.templates.footer&&renderer.createElement("div",{className:classNames.sourceFooter},source.templates.footer({components:components,createElement:renderer.createElement,Fragment:renderer.Fragment,items:items,source:source,state:state,html:html})))})),children=renderer.createElement(renderer.Fragment,null,renderer.createElement("div",{className:classNames.panelLayout},sections),renderer.createElement("div",{className:"aa-GradientBottom"})),elements=sections.reduce((function(acc,current){return acc[current.props["data-autocomplete-source-id"]]=current,acc}),{});render(_objectSpread2(_objectSpread2({children:children,state:state,sections:sections,elements:elements},renderer),{},{components:components,html:html},autocompleteScopeApi),dom.panel)}else panelContainer.contains(dom.panel)&&panelContainer.removeChild(dom.panel)}(render,renderProps)}function update(){var updatedOptions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};cleanupEffects();var _props$value$renderer=props.value.renderer,components=_props$value$renderer.components,rendererProps=_objectWithoutProperties$5(_props$value$renderer,_excluded);optionsRef.current=mergeDeep(rendererProps,props.value.core,{components:pickBy(components,(function(_ref4){return!_ref4.value.hasOwnProperty("__autocomplete_componentName")})),initialState:lastStateRef.current},updatedOptions),runReactives(),runEffects(),autocomplete.value.refresh().then((function(){scheduleRender(lastStateRef.current)}))}function setIsModalOpen(value){value!==props.value.core.environment.document.body.contains(dom.value.detachedOverlay)&&(value?(props.value.core.environment.document.body.appendChild(dom.value.detachedOverlay),props.value.core.environment.document.body.classList.add("aa-Detached"),dom.value.input.focus()):(props.value.core.environment.document.body.removeChild(dom.value.detachedOverlay),props.value.core.environment.document.body.classList.remove("aa-Detached")))}return runEffect((function(){var environmentProps=autocomplete.value.getEnvironmentProps({formElement:dom.value.form,panelElement:dom.value.panel,inputElement:dom.value.input});return setProperties(props.value.core.environment,environmentProps),function(){setProperties(props.value.core.environment,Object.keys(environmentProps).reduce((function(acc,key){return _objectSpread2(_objectSpread2({},acc),{},_defineProperty$h({},key,void 0))}),{}))}})),runEffect((function(){var panelContainerElement=isDetached.value?props.value.core.environment.document.body:props.value.renderer.panelContainer,panelElement=isDetached.value?dom.value.detachedOverlay:dom.value.panel;return isDetached.value&&lastStateRef.current.isOpen&&setIsModalOpen(!0),scheduleRender(lastStateRef.current),function(){panelContainerElement.contains(panelElement)&&panelContainerElement.removeChild(panelElement)}})),runEffect((function(){var containerElement=props.value.renderer.container;return containerElement.appendChild(dom.value.root),function(){containerElement.removeChild(dom.value.root)}})),runEffect((function(){var debouncedRender=debounce((function(_ref2){scheduleRender(_ref2.state)}),0);return onStateChangeRef.current=function(_ref3){var state=_ref3.state,prevState=_ref3.prevState;isDetached.value&&prevState.isOpen!==state.isOpen&&setIsModalOpen(state.isOpen),isDetached.value||!state.isOpen||prevState.isOpen||setPanelPosition(),state.query!==prevState.query&&props.value.core.environment.document.querySelectorAll(".aa-Panel--scrollable").forEach((function(scrollablePanel){0!==scrollablePanel.scrollTop&&(scrollablePanel.scrollTop=0)})),debouncedRender({state:state})},function(){onStateChangeRef.current=void 0}})),runEffect((function(){var onResize=debounce((function(){var previousIsDetached=isDetached.value;isDetached.value=props.value.core.environment.matchMedia(props.value.renderer.detachedMediaQuery).matches,previousIsDetached!==isDetached.value?update({}):requestAnimationFrame(setPanelPosition)}),20);return props.value.core.environment.addEventListener("resize",onResize),function(){props.value.core.environment.removeEventListener("resize",onResize)}})),runEffect((function(){if(!isDetached.value)return function(){};function toggleModalClassname(isActive){dom.value.detachedContainer.classList.toggle("aa-DetachedContainer--modal",isActive)}function onChange(event){toggleModalClassname(event.matches)}var isModalDetachedMql=props.value.core.environment.matchMedia(getComputedStyle(props.value.core.environment.document.documentElement).getPropertyValue("--aa-detached-modal-media-query"));toggleModalClassname(isModalDetachedMql.matches);var hasModernEventListener=Boolean(isModalDetachedMql.addEventListener);return hasModernEventListener?isModalDetachedMql.addEventListener("change",onChange):isModalDetachedMql.addListener(onChange),function(){hasModernEventListener?isModalDetachedMql.removeEventListener("change",onChange):isModalDetachedMql.removeListener(onChange)}})),runEffect((function(){return requestAnimationFrame(setPanelPosition),function(){}})),warn(0===instancesCount,"Autocomplete doesn't support multiple instances running at the same time. Make sure to destroy the previous instance before creating a new one.\n\nSee: https://www.algolia.com/doc/ui-libraries/autocomplete/api-reference/autocomplete-js/autocomplete/#param-destroy"),instancesCount++,_objectSpread2(_objectSpread2({},autocompleteScopeApi),{},{update:update,destroy:function(){instancesCount--,cleanupEffects()}})},exports.getAlgoliaFacets=function(requestParams){var requester=createAlgoliaRequester({transformResponse:function(response){return response.facetHits}}),queries=requestParams.queries.map((function(query){return _objectSpread2(_objectSpread2({},query),{},{type:"facet"})}));return requester(_objectSpread2(_objectSpread2({},requestParams),{},{queries:queries}))},exports.getAlgoliaResults=getAlgoliaResults,Object.defineProperty(exports,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define("core/autocomplete",["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self)["@algolia/autocomplete-js"]={});

//# sourceMappingURL=autocomplete.min.js.map